## TDD 공부 Repository

테스트 주도 개발 시작하기 책으로 TDD 수터디중
관련 내용 정리 진행

### 준비 
TDD를 위한 다양한 도구가 존재하는데 자바에서는 주로 Junit을 사용한다. (Junit5)
pom파일에 junit 의존성 추가
```
...
<!-- junit-jupiter 의존을 test 범위로 추가한다. -->
<dependency>
    <groupId>org.junit.jupiter</groupId>
    <artifactId>junit-jupiter</artifactId>
    <version>5.5.0</version>
    <scope>test</scope>
</dependency>
...
<!-- 2.22.0부터 junit5지원 -->
<plugin>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>2.22.1</version>
</plugin>
...
```

### TDD란?
- 테스트 부터 시작. 그 다음에 구현
- 테스트를 먼저한다 = 기능이 올바르게 동작하는지 검증하는 테스트 코드를 작성한다는 것을 의미
- 이 테스트를 통과 시키기 위해 개발을 진행한다.

-> 테스트를 먼저 작성하고 테스트에 실패하면 테스트를 통과 시킬만큼 코드를 추가하는 과정을 반복하면서 점진적으로 기능을 완성해 나감


**테스트 작성** 
- 첫번째 테스트를 선택할 때에는 가장 쉽거나 가장 예외적인 상황을 선택해야함
- 테스트 -> 코딩 -> 리펙토링 -> 테스트 반복.. (레드-그린-리펙터)
- TDD는 기능을 검증하는 테스트를 먼저 작성. 통과 못하면 통과 만큼만 코드 작성. 테스트 통과 뒤 리펙토링 반복 기능완성


&nbsp;
----
### 테스트 코드 작성 순서

- 쉬운 경우에서 어려운 경우로 진행 (복잡한거부터 하지마세요)
- 예외적인 경우에서 정상인 경우로 진행 

**구현하기 쉬운 테스트부터 시작하기**
- 가장 구현하기 쉬운 경우부터 시작하면 빠르게 통과시킬 수 있다.
    - 보통 수분에서 십여 분 이내에 구현을 완료해서 통과시킬 수 있을 만큼 쉬운 것 선택
    - 두가지 모두 그냥 해당 값을 리턴
        - 모든 조건을 충족하는 경우
        - 모든 조건을 충족하지 않는 경우

**예외 상황 먼저 테스트해야하는 이유**
- 중간 예외 처리 시 조건문 중복 추가 -> 코드 복잡 버그 가능성 높임
- 초반 예외 테스트 시 이런 가능성 줄어들음

&nbsp;

### 구현 단계
1. 정해진 값을 리턴
2. 값 비교를 이용해서 정해진 값을 리턴
3. 다양한 테스트를 추가하면서 구현을 일반화


**조언**
- 당연한 말이지만 구현을 시도했는데 잘 안되면 한발 물러서서 다시하세요
- 테스트를 통과한 뒤에는 리팩토링을 진행하세요
- 일단 동작하는 코드를 만드는 능력이 중요합니다.
- TDD 시작할 때 테스트할 목록을 미리 정리하면 좋다.
- 테스트 과정에서 새로운 테스트 사례 발견 시 그 사례를 목록에 추가 
- 테스트 목록을 적었다고 테스트를 한번에 다 작성하면 안됨
  - 하나의 테스트 코드를 만들고 이를 통과시키고 리펙토링하고 다음 테스트 코드 통과 리펙토링하는 짧은 리듬 반복
- 범위가 큰 리팩토링 진행 하기 전에는 코드 커밋 잊지 마세요
- 시작이 안될때는 단언부터 고민하세요
  - assertEquals(기대일, 만료일);
- TDD 진행 시 어떻게 해야할 지 생각이 나지 않거나 잘못한거 같을 떄 과감하게 코드를 지우고 다시 시작하세요
  - 명싱 쉬운테스트부터, 예외테스트부터, 완급조절

&nbsp;


